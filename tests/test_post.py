
# [!] Caution: There is a lot of raw HTML data for testing purposes.
#              Maby it's not very pretty, but it's practically usefull.
from datetime import datetime
from entities import Post


ORDINARY_POST = """<div data-id="113853838355066029" class="status__wrapper space-y-4 status-public p-4"><div data-testid="account" class="group block shrink-0"><div class="flex rtl:space-x-reverse items-center justify-between"><div class="flex rtl:space-x-reverse items-center space-x-3 overflow-hidden"><a title="ilpresidento" href="/@ilpresidento"><div data-testid="still-image-container" class="rounded-full group relative isolate overflow-hidden" style="width: 42px; height: 42px;"><img src="https://static-assets-1.truthsocial.com/tmtg:prime-ts-assets/accounts/avatars/107/842/299/876/619/984/original/709018614be2e40d.jpg" alt="Avatar" class="block size-full object-cover"><div class="absolute bottom-2 left-2 z-[1] flex items-center space-x-2"></div></div></a><div class="grow overflow-hidden"><a title="ilpresidento" href="/@ilpresidento"><div class="flex rtl:space-x-reverse items-center space-x-1 grow"><p class="truncate text-sm text-gray-900 dark:text-gray-100 font-semibold tracking-normal font-sans normal-case [&amp;_span.invisible]:inline-block [&amp;_span.invisible]:w-0">il Donaldo Trumpo</p><span class="verified-icon" data-testid="verified-badge"><div class="relative flex shrink-0 flex-col" data-testid="icon"><svg width="24" height="24" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-4 text-secondary-500" data-testid="svg-icon"><title>Verified Account</title><path d="M8.82.521a1.596 1.596 0 012.36 0l.362.398c.42.46 1.07.635 1.664.445l.512-.163a1.596 1.596 0 012.043 1.18l.115.525a1.596 1.596 0 001.218 1.218l.525.115a1.596 1.596 0 011.18 2.043l-.163.513a1.596 1.596 0 00.446 1.663l.397.362a1.596 1.596 0 010 2.36l-.397.362c-.461.42-.635 1.07-.446 1.664l.163.512a1.596 1.596 0 01-1.18 2.043l-.525.115a1.596 1.596 0 00-1.218 1.218l-.115.525a1.596 1.596 0 01-2.043 1.18l-.512-.163a1.596 1.596 0 00-1.664.445l-.362.398a1.596 1.596 0 01-2.36 0l-.362-.398a1.596 1.596 0 00-1.663-.445l-.513.163a1.596 1.596 0 01-2.043-1.18l-.115-.525a1.596 1.596 0 00-1.218-1.218l-.525-.115a1.596 1.596 0 01-1.18-2.043l.164-.512a1.596 1.596 0 00-.446-1.664L.52 11.18a1.596 1.596 0 010-2.36l.398-.362c.46-.42.635-1.07.446-1.663L1.2 6.282a1.596 1.596 0 011.18-2.043l.525-.115a1.596 1.596 0 001.218-1.218l.115-.525A1.596 1.596 0 016.282 1.2l.513.163c.594.19 1.244.015 1.663-.445L8.821.52z" fill="currentColor"></path><path d="M6.66 7.464L5.012 9.111l3.85 3.85 5.483-5.481-1.966-1.966L8.544 9.35 6.66 7.464z" fill="#fff"></path><path opacity=".5" d="M11.25 15.55l-1.646-1.848 1.646-1.646 1.887 1.887-1.887 1.606z" fill="#fff"></path></svg></div></span></div></a><div class="flex flex-col space-y-0"><div class="flex rtl:space-x-reverse items-center space-x-1"><p class="truncate text-sm text-gray-700 dark:text-gray-600 font-normal tracking-normal font-sans normal-case [&amp;_span.invisible]:inline-block [&amp;_span.invisible]:w-0" style="direction: ltr;">@ilpresidento</p><span class="text-sm text-gray-700 dark:text-gray-600 font-normal tracking-normal font-sans normal-case [&amp;_span.invisible]:inline-block [&amp;_span.invisible]:w-0">路</span><a class="hover:underline" href="/@ilpresidento/posts/113853838355066029"><time title="Jan 19, 2025, 10:28 AM" class="text-sm text-gray-700 dark:text-gray-600 font-normal tracking-normal font-sans normal-case [&amp;_span.invisible]:inline-block [&amp;_span.invisible]:w-0 whitespace-nowrap">8h</time></a></div></div></div></div><div></div></div></div><div class="status__content-wrapper"><div class="flex flex-col relative z-0"><div class="flex flex-col space-y-4"><div class="relative"><p tabindex="0" lang="en" data-markup="true" class="text-base leading-5 text-gray-900 dark:text-gray-100 font-normal tracking-normal font-sans normal-case [&amp;_span.invisible]:inline-block [&amp;_span.invisible]:w-0 text-gray-900 dark:text-gray-100 break-words text-ellipsis overflow-hidden relative focus:outline-none cursor-pointer max-h-40" style="direction: ltr;"><p>47</p></p></div></div></div><div class="pt-4"><div data-testid="status-action-bar" class="flex rtl:space-x-reverse"><div class="flex rtl:space-x-reverse items-center space-x-2"><button type="button" class="flex items-center rounded-full p-1 rtl:space-x-reverse focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:ring-offset-0 text-gray-600 hover:text-gray-600 dark:hover:text-white space-x-1" title="Reply"><div class="relative flex shrink-0 flex-col" data-testid="icon"><svg width="24" height="24" viewBox="0 0 24 24" stroke="currentColor" stroke-linejoin="round" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 stroke-2" data-testid="svg-icon"><path d="M11.8184 4C16.2366 4 19.8184 7.58172 19.8184 12C19.8184 13.3762 19.4709 14.6711 18.8589 15.802L19.9998 20.5L15.8172 18.9304C14.6408 19.6107 13.275 20 11.8184 20C7.40008 20 3.81836 16.4183 3.81836 12C3.81836 7.58172 7.40008 4 11.8184 4Z"></path></svg></div><p class="text-xs text-inherit font-semibold tracking-normal font-sans normal-case [&amp;_span.invisible]:inline-block [&amp;_span.invisible]:w-0"><span>105</span></p></button><div class="relative flex"><button type="button" class="flex items-center rounded-full p-1 rtl:space-x-reverse focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:ring-offset-0 text-gray-600 hover:text-gray-600 dark:hover:text-white space-x-1" title="ReTruth"><div class="relative flex shrink-0 flex-col" data-testid="icon"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 stroke-2" data-testid="svg-icon"><path d="M17.2793 3L20.5444 6.26506L17.2793 9.53011"></path><path d="M4.87305 11.1622V9.52971C4.87305 8.66376 5.21704 7.83328 5.82936 7.22096C6.44168 6.60864 7.27216 6.26465 8.1381 6.26465H19.5658"></path><path d="M7.16154 21.1639L3.89648 17.8988L7.16154 14.6338"></path><path d="M19.5658 13V14.6325C19.5658 15.4985 19.2218 16.329 18.6095 16.9413C17.9972 17.5536 17.1667 17.8976 16.3007 17.8976H4.87305"></path></svg></div><p class="text-xs text-inherit font-semibold tracking-normal font-sans normal-case [&amp;_span.invisible]:inline-block [&amp;_span.invisible]:w-0"><span>286</span></p></button></div><button type="button" class="flex items-center rounded-full p-1 rtl:space-x-reverse focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:ring-offset-0 text-gray-600 hover:text-gray-600 dark:hover:text-white space-x-1" title="Like"><div class="relative flex shrink-0 flex-col" data-testid="icon"><svg width="24" height="24" viewBox="0 0 24 24" stroke-linecap="round" stroke-width="2" stroke-linejoin="round" stroke="currentColor" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 stroke-2" data-testid="svg-icon"><path d="M20.2328 6.4701L20.3952 6.76689C21.1597 8.35418 21.2151 10.1379 20.4969 12.0001C19.8211 13.7477 18.4642 15.4911 16.8514 16.9462C15.2519 18.3891 13.4816 19.4756 12.0396 19.9822C12.0257 19.9854 12.0153 19.9874 12.0078 19.9886C12.0025 19.9895 11.9992 19.9898 11.9978 19.99C11.9913 19.9899 11.986 19.9898 11.9818 19.9897C10.5425 19.492 8.76501 18.4026 7.15788 16.9505C5.54593 15.494 4.18855 13.7476 3.51269 11.9994L3.51157 11.9965C2.74033 10.0196 2.85032 8.13081 3.75666 6.47098C5.06362 4.09997 7.22019 3.72893 8.84915 4.14799C9.84987 4.40896 10.6764 4.94172 11.2355 5.60466L12 6.51106L12.7644 5.60466C13.3271 4.93741 14.1541 4.39928 15.1444 4.14962L15.1444 4.14963L15.1494 4.14835C16.7797 3.72842 18.9355 4.10012 20.2328 6.4701Z"></path></svg></div><p class="text-xs text-inherit font-semibold tracking-normal font-sans normal-case [&amp;_span.invisible]:inline-block [&amp;_span.invisible]:w-0"><span>1.58k</span></p></button><button type="button" class="flex items-center rounded-full p-1 rtl:space-x-reverse focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:ring-offset-0 text-gray-600 hover:text-gray-600 dark:hover:text-white space-x-1" title="Bookmark"><div class="relative flex shrink-0 flex-col" data-testid="icon"><svg width="24" height="24" viewBox="0 0 14 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 stroke-2 !size-5" data-testid="svg-icon"><path d="M13 5V19L7 15L1 19V5C1 3.93913 1.42143 2.92172 2.17157 2.17157C2.92172 1.42143 3.93913 1 5 1H9C10.0609 1 11.0783 1.42143 11.8284 2.17157C12.5786 2.92172 13 3.93913 13 5Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></div></button><div class="relative flex"><button type="button" class="flex items-center rounded-full p-1 rtl:space-x-reverse focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:ring-offset-0 text-gray-600 hover:text-gray-600 dark:hover:text-white space-x-1" title="More"><div class="relative flex shrink-0 flex-col" data-testid="icon"><svg class="w-6 h-6 stroke-2" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-testid="svg-icon"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"></path><path d="M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"></path><path d="M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"></path></svg></div></button></div></div></div></div></div></div>"""

REPOST_POST = """<div data-id="113855307173969680" class="status__wrapper space-y-4 status-public p-4"><div role="status-info"><div class="flex rtl:space-x-reverse items-center space-x-3 cursor-default text-gray-700 dark:text-gray-600 rtl:space-x-reverse"><div class="flex justify-end" style="width: 42px;"><div class="relative flex shrink-0 flex-col" data-testid="icon"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg" class="size-4 text-success-600 dark:text-accent-green" data-testid="svg-icon"><path d="M17.2793 3L20.5444 6.26506L17.2793 9.53011"></path><path d="M4.87305 11.1622V9.52971C4.87305 8.66376 5.21704 7.83328 5.82936 7.22096C6.44168 6.60864 7.27216 6.26465 8.1381 6.26465H19.5658"></path><path d="M7.16154 21.1639L3.89648 17.8988L7.16154 14.6338"></path><path d="M19.5658 13V14.6325C19.5658 15.4985 19.2218 16.329 18.6095 16.9413C17.9972 17.5536 17.1667 17.8976 16.3007 17.8976H4.87305"></path></svg></div></div><p class="text-xs text-gray-700 dark:text-gray-600 font-medium tracking-normal font-sans normal-case [&amp;_span.invisible]:inline-block [&amp;_span.invisible]:w-0"><a class="hover:underline" href="/@realDonaldTrump"><bdi class="truncate"><strong class="text-gray-800 dark:text-gray-200">Donald J. Trump</strong></bdi></a> ReTruthed</p></div></div><div data-testid="account" class="group block shrink-0"><div class="flex rtl:space-x-reverse items-center justify-between"><div class="flex rtl:space-x-reverse items-center space-x-3 overflow-hidden"><a title="Deb37214" href="/@Deb37214"><div data-testid="still-image-container" class="rounded-full group relative isolate overflow-hidden" style="width: 42px; height: 42px;"><img src="https://static-assets-1.truthsocial.com/tmtg:prime-ts-assets/accounts/avatars/107/866/439/800/573/498/original/d6cc983439b96b5f.jpeg" alt="Avatar" class="block size-full object-cover"><div class="absolute bottom-2 left-2 z-[1] flex items-center space-x-2"></div></div></a><div class="grow overflow-hidden"><a title="Deb37214" href="/@Deb37214"><div class="flex rtl:space-x-reverse items-center space-x-1 grow"><p class="truncate text-sm text-gray-900 dark:text-gray-100 font-semibold tracking-normal font-sans normal-case [&amp;_span.invisible]:inline-block [&amp;_span.invisible]:w-0">吼Debbie Lynn吼</p></div></a><div class="flex flex-col space-y-0"><div class="flex rtl:space-x-reverse items-center space-x-1"><p class="truncate text-sm text-gray-700 dark:text-gray-600 font-normal tracking-normal font-sans normal-case [&amp;_span.invisible]:inline-block [&amp;_span.invisible]:w-0" style="direction: ltr;">@Deb37214</p><span class="text-sm text-gray-700 dark:text-gray-600 font-normal tracking-normal font-sans normal-case [&amp;_span.invisible]:inline-block [&amp;_span.invisible]:w-0">路</span><a class="hover:underline" href="/@Deb37214/posts/113851897365786467"><time title="Jan 19, 2025, 2:14 AM" class="text-sm text-gray-700 dark:text-gray-600 font-normal tracking-normal font-sans normal-case [&amp;_span.invisible]:inline-block [&amp;_span.invisible]:w-0 whitespace-nowrap">16h</time></a></div></div></div></div><div></div></div></div><div class="status__content-wrapper"><div class="reply-mentions"><div class="inline-block max-w-full cursor-pointer"><span>Replying to</span></div> <a class="reply-mentions__account max-w-[200px] truncate align-bottom" href="/@realDonaldTrump">@realDonaldTrump</a></div><div class="flex flex-col relative z-0"><div class="flex flex-col space-y-4"><div class="relative"><p tabindex="0" lang="en" data-markup="true" class="text-base leading-5 text-gray-900 dark:text-gray-100 font-normal tracking-normal font-sans normal-case [&amp;_span.invisible]:inline-block [&amp;_span.invisible]:w-0 text-gray-900 dark:text-gray-100 break-words text-ellipsis overflow-hidden relative focus:outline-none cursor-pointer max-h-40" style="direction: ltr;"><p>We are truly blessed Mr.President 火火吼</p></p></div><div class="flex flex-col space-y-4"><div><div class="media-gallery" style="height: 937px;"><div class="media-gallery__item media-gallery__item--image" style="position: relative; float: left; inset: auto; height: 100%; width: 100%;"><canvas class="media-gallery__preview" width="32" height="32"></canvas><a class="media-gallery__item-thumbnail" href="https://static-assets-1.truthsocial.com/tmtg:prime-ts-assets/media_attachments/files/113/851/897/324/428/827/original/7151b1753aeae398.jpg" target="_blank"><div data-testid="still-image-container" class="size-full group relative isolate overflow-hidden"><img src="https://static-assets-1.truthsocial.com/tmtg:prime-ts-assets/media_attachments/files/113/851/897/324/428/827/small/7151b1753aeae398.jpg" alt="" class="block size-full object-cover" width="844" height="1216"><div class="absolute bottom-2 left-2 z-[1] flex items-center space-x-2"></div></div></a></div></div></div></div></div></div><div class="pt-4"><div data-testid="status-action-bar" class="flex rtl:space-x-reverse"><div class="flex rtl:space-x-reverse items-center space-x-2"><button type="button" class="flex items-center rounded-full p-1 rtl:space-x-reverse focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:ring-offset-0 text-gray-600 hover:text-gray-600 dark:hover:text-white space-x-1" title="Reply to thread"><div class="relative flex shrink-0 flex-col" data-testid="icon"><svg width="24" height="24" viewBox="0 0 24 24" stroke="currentColor" stroke-linejoin="round" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 stroke-2" data-testid="svg-icon"><path d="M11.8184 4C16.2366 4 19.8184 7.58172 19.8184 12C19.8184 13.3762 19.4709 14.6711 18.8589 15.802L19.9998 20.5L15.8172 18.9304C14.6408 19.6107 13.275 20 11.8184 20C7.40008 20 3.81836 16.4183 3.81836 12C3.81836 7.58172 7.40008 4 11.8184 4Z"></path></svg></div><p class="text-xs text-inherit font-semibold tracking-normal font-sans normal-case [&amp;_span.invisible]:inline-block [&amp;_span.invisible]:w-0"><span>125</span></p></button><div class="relative flex"><button type="button" class="flex items-center rounded-full p-1 rtl:space-x-reverse focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:ring-offset-0 text-gray-600 hover:text-gray-600 dark:hover:text-white space-x-1" title="ReTruth"><div class="relative flex shrink-0 flex-col" data-testid="icon"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 stroke-2" data-testid="svg-icon"><path d="M17.2793 3L20.5444 6.26506L17.2793 9.53011"></path><path d="M4.87305 11.1622V9.52971C4.87305 8.66376 5.21704 7.83328 5.82936 7.22096C6.44168 6.60864 7.27216 6.26465 8.1381 6.26465H19.5658"></path><path d="M7.16154 21.1639L3.89648 17.8988L7.16154 14.6338"></path><path d="M19.5658 13V14.6325C19.5658 15.4985 19.2218 16.329 18.6095 16.9413C17.9972 17.5536 17.1667 17.8976 16.3007 17.8976H4.87305"></path></svg></div><p class="text-xs text-inherit font-semibold tracking-normal font-sans normal-case [&amp;_span.invisible]:inline-block [&amp;_span.invisible]:w-0"><span>981</span></p></button></div><button type="button" class="flex items-center rounded-full p-1 rtl:space-x-reverse focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:ring-offset-0 text-gray-600 hover:text-gray-600 dark:hover:text-white space-x-1" title="Like"><div class="relative flex shrink-0 flex-col" data-testid="icon"><svg width="24" height="24" viewBox="0 0 24 24" stroke-linecap="round" stroke-width="2" stroke-linejoin="round" stroke="currentColor" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 stroke-2" data-testid="svg-icon"><path d="M20.2328 6.4701L20.3952 6.76689C21.1597 8.35418 21.2151 10.1379 20.4969 12.0001C19.8211 13.7477 18.4642 15.4911 16.8514 16.9462C15.2519 18.3891 13.4816 19.4756 12.0396 19.9822C12.0257 19.9854 12.0153 19.9874 12.0078 19.9886C12.0025 19.9895 11.9992 19.9898 11.9978 19.99C11.9913 19.9899 11.986 19.9898 11.9818 19.9897C10.5425 19.492 8.76501 18.4026 7.15788 16.9505C5.54593 15.494 4.18855 13.7476 3.51269 11.9994L3.51157 11.9965C2.74033 10.0196 2.85032 8.13081 3.75666 6.47098C5.06362 4.09997 7.22019 3.72893 8.84915 4.14799C9.84987 4.40896 10.6764 4.94172 11.2355 5.60466L12 6.51106L12.7644 5.60466C13.3271 4.93741 14.1541 4.39928 15.1444 4.14962L15.1444 4.14963L15.1494 4.14835C16.7797 3.72842 18.9355 4.10012 20.2328 6.4701Z"></path></svg></div><p class="text-xs text-inherit font-semibold tracking-normal font-sans normal-case [&amp;_span.invisible]:inline-block [&amp;_span.invisible]:w-0"><span>6.22k</span></p></button><button type="button" class="flex items-center rounded-full p-1 rtl:space-x-reverse focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:ring-offset-0 text-gray-600 hover:text-gray-600 dark:hover:text-white space-x-1" title="Bookmark"><div class="relative flex shrink-0 flex-col" data-testid="icon"><svg width="24" height="24" viewBox="0 0 14 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 stroke-2 !size-5" data-testid="svg-icon"><path d="M13 5V19L7 15L1 19V5C1 3.93913 1.42143 2.92172 2.17157 2.17157C2.92172 1.42143 3.93913 1 5 1H9C10.0609 1 11.0783 1.42143 11.8284 2.17157C12.5786 2.92172 13 3.93913 13 5Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></div></button><div class="relative flex"><button type="button" class="flex items-center rounded-full p-1 rtl:space-x-reverse focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:ring-offset-0 text-gray-600 hover:text-gray-600 dark:hover:text-white space-x-1" title="More"><div class="relative flex shrink-0 flex-col" data-testid="icon"><svg class="w-6 h-6 stroke-2" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-testid="svg-icon"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"></path><path d="M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"></path><path d="M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"></path></svg></div></button></div></div></div></div></div></div>"""

MULTI_PARAGRAPHS_POST = """<div data-id="113856066939503017" class="status__wrapper space-y-4 status-public p-4"><div data-testid="account" class="group block shrink-0"><div class="flex rtl:space-x-reverse items-center justify-between"><div class="flex rtl:space-x-reverse items-center space-x-3 overflow-hidden"><a title="examore" href="/@examore"><div data-testid="still-image-container" class="rounded-full group relative isolate overflow-hidden" style="width: 42px; height: 42px;"><img src="https://truthsocial.com/avatars/original/missing.png" alt="Avatar" class="block size-full object-cover"><div class="absolute bottom-2 left-2 z-[1] flex items-center space-x-2"></div></div></a><div class="grow overflow-hidden"><a title="examore" href="/@examore"><div class="flex rtl:space-x-reverse items-center space-x-1 grow"><p class="truncate text-sm text-gray-900 dark:text-gray-100 font-semibold tracking-normal font-sans normal-case [&amp;_span.invisible]:inline-block [&amp;_span.invisible]:w-0">examore</p></div></a><div class="flex flex-col space-y-0"><div class="flex rtl:space-x-reverse items-center space-x-1"><p class="truncate text-sm text-gray-700 dark:text-gray-600 font-normal tracking-normal font-sans normal-case [&amp;_span.invisible]:inline-block [&amp;_span.invisible]:w-0" style="direction: ltr;">@examore</p><span class="text-sm text-gray-700 dark:text-gray-600 font-normal tracking-normal font-sans normal-case [&amp;_span.invisible]:inline-block [&amp;_span.invisible]:w-0">路</span><a class="hover:underline" href="/@examore/posts/113856066939503017"><time title="Jan 19, 2025, 7:55 PM" class="text-sm text-gray-700 dark:text-gray-600 font-normal tracking-normal font-sans normal-case [&amp;_span.invisible]:inline-block [&amp;_span.invisible]:w-0 whitespace-nowrap">1h</time></a></div></div></div></div><div></div></div></div><div class="status__content-wrapper"><div class="flex flex-col relative z-0"><div class="flex flex-col space-y-4"><div class="relative"><p tabindex="0" lang="en" data-markup="true" class="text-base leading-5 text-gray-900 dark:text-gray-100 font-normal tracking-normal font-sans normal-case [&amp;_span.invisible]:inline-block [&amp;_span.invisible]:w-0 text-gray-900 dark:text-gray-100 break-words text-ellipsis overflow-hidden relative focus:outline-none cursor-pointer max-h-40" style="direction: ltr;"><p>Doing some cool things now!</p><p>:P</p></p></div></div></div><div class="pt-4"><div data-testid="status-action-bar" class="flex rtl:space-x-reverse"><div class="flex rtl:space-x-reverse items-center space-x-2"><button type="button" class="flex items-center rounded-full p-1 rtl:space-x-reverse focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:ring-offset-0 text-gray-600 hover:text-gray-600 dark:hover:text-white space-x-1" title="Reply"><div class="relative flex shrink-0 flex-col" data-testid="icon"><svg width="24" height="24" viewBox="0 0 24 24" stroke="currentColor" stroke-linejoin="round" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 stroke-2" data-testid="svg-icon"><path d="M11.8184 4C16.2366 4 19.8184 7.58172 19.8184 12C19.8184 13.3762 19.4709 14.6711 18.8589 15.802L19.9998 20.5L15.8172 18.9304C14.6408 19.6107 13.275 20 11.8184 20C7.40008 20 3.81836 16.4183 3.81836 12C3.81836 7.58172 7.40008 4 11.8184 4Z"></path></svg></div></button><div class="relative flex"><button type="button" class="flex items-center rounded-full p-1 rtl:space-x-reverse focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:ring-offset-0 text-gray-600 hover:text-gray-600 dark:hover:text-white space-x-1" title="ReTruth"><div class="relative flex shrink-0 flex-col" data-testid="icon"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 stroke-2" data-testid="svg-icon"><path d="M17.2793 3L20.5444 6.26506L17.2793 9.53011"></path><path d="M4.87305 11.1622V9.52971C4.87305 8.66376 5.21704 7.83328 5.82936 7.22096C6.44168 6.60864 7.27216 6.26465 8.1381 6.26465H19.5658"></path><path d="M7.16154 21.1639L3.89648 17.8988L7.16154 14.6338"></path><path d="M19.5658 13V14.6325C19.5658 15.4985 19.2218 16.329 18.6095 16.9413C17.9972 17.5536 17.1667 17.8976 16.3007 17.8976H4.87305"></path></svg></div></button></div><button type="button" class="flex items-center rounded-full p-1 rtl:space-x-reverse focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:ring-offset-0 text-gray-600 hover:text-gray-600 dark:hover:text-white space-x-1" title="Like"><div class="relative flex shrink-0 flex-col" data-testid="icon"><svg width="24" height="24" viewBox="0 0 24 24" stroke-linecap="round" stroke-width="2" stroke-linejoin="round" stroke="currentColor" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 stroke-2" data-testid="svg-icon"><path d="M20.2328 6.4701L20.3952 6.76689C21.1597 8.35418 21.2151 10.1379 20.4969 12.0001C19.8211 13.7477 18.4642 15.4911 16.8514 16.9462C15.2519 18.3891 13.4816 19.4756 12.0396 19.9822C12.0257 19.9854 12.0153 19.9874 12.0078 19.9886C12.0025 19.9895 11.9992 19.9898 11.9978 19.99C11.9913 19.9899 11.986 19.9898 11.9818 19.9897C10.5425 19.492 8.76501 18.4026 7.15788 16.9505C5.54593 15.494 4.18855 13.7476 3.51269 11.9994L3.51157 11.9965C2.74033 10.0196 2.85032 8.13081 3.75666 6.47098C5.06362 4.09997 7.22019 3.72893 8.84915 4.14799C9.84987 4.40896 10.6764 4.94172 11.2355 5.60466L12 6.51106L12.7644 5.60466C13.3271 4.93741 14.1541 4.39928 15.1444 4.14962L15.1444 4.14963L15.1494 4.14835C16.7797 3.72842 18.9355 4.10012 20.2328 6.4701Z"></path></svg></div></button><button type="button" class="flex items-center rounded-full p-1 rtl:space-x-reverse focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:ring-offset-0 text-gray-600 hover:text-gray-600 dark:hover:text-white space-x-1" title="Bookmark"><div class="relative flex shrink-0 flex-col" data-testid="icon"><svg width="24" height="24" viewBox="0 0 14 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 stroke-2 !size-5" data-testid="svg-icon"><path d="M13 5V19L7 15L1 19V5C1 3.93913 1.42143 2.92172 2.17157 2.17157C2.92172 1.42143 3.93913 1 5 1H9C10.0609 1 11.0783 1.42143 11.8284 2.17157C12.5786 2.92172 13 3.93913 13 5Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></div></button><div class="relative flex"><button type="button" class="flex items-center rounded-full p-1 rtl:space-x-reverse focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:ring-offset-0 text-gray-600 hover:text-gray-600 dark:hover:text-white space-x-1" title="More"><div class="relative flex shrink-0 flex-col" data-testid="icon"><svg class="w-6 h-6 stroke-2" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-testid="svg-icon"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"></path><path d="M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"></path><path d="M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"></path></svg></div></button></div></div></div></div></div></div>"""

REPLY_POST = """<div data-id="111504024283677615" class="status__wrapper space-y-4 status-public status-reply p-4"><div role="status-info"><div class="flex rtl:space-x-reverse items-center space-x-3 cursor-default text-gray-700 dark:text-gray-600 rtl:space-x-reverse"><div class="flex justify-end" style="width: 42px;"><div class="relative flex shrink-0 flex-col" data-testid="icon"><svg class="size-4 text-gray-600 dark:text-gray-400" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-testid="svg-icon"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M9 4v6l-2 4v2h10v-2l-2 -4v-6"></path><path d="M12 16l0 5"></path><path d="M8 4l8 0"></path></svg></div></div><p class="text-xs text-gray-700 dark:text-gray-600 font-medium tracking-normal font-sans normal-case [&amp;_span.invisible]:inline-block [&amp;_span.invisible]:w-0">Pinned Truth</p></div></div><div data-testid="account" class="group block shrink-0"><div class="flex rtl:space-x-reverse items-center justify-between"><div class="flex rtl:space-x-reverse items-center space-x-3 overflow-hidden"><a title="ilpresidento" href="/@ilpresidento"><div data-testid="still-image-container" class="rounded-full group relative isolate overflow-hidden" style="width: 42px; height: 42px;"><img src="https://static-assets-1.truthsocial.com/tmtg:prime-ts-assets/accounts/avatars/107/842/299/876/619/984/original/709018614be2e40d.jpg" alt="Avatar" class="block size-full object-cover"><div class="absolute bottom-2 left-2 z-[1] flex items-center space-x-2"></div></div></a><div class="grow overflow-hidden"><a title="ilpresidento" href="/@ilpresidento"><div class="flex rtl:space-x-reverse items-center space-x-1 grow"><p class="truncate text-sm text-gray-900 dark:text-gray-100 font-semibold tracking-normal font-sans normal-case [&amp;_span.invisible]:inline-block [&amp;_span.invisible]:w-0">il Donaldo Trumpo</p><span class="verified-icon" data-testid="verified-badge"><div class="relative flex shrink-0 flex-col" data-testid="icon"><svg width="24" height="24" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-4 text-secondary-500" data-testid="svg-icon"><title>Verified Account</title><path d="M8.82.521a1.596 1.596 0 012.36 0l.362.398c.42.46 1.07.635 1.664.445l.512-.163a1.596 1.596 0 012.043 1.18l.115.525a1.596 1.596 0 001.218 1.218l.525.115a1.596 1.596 0 011.18 2.043l-.163.513a1.596 1.596 0 00.446 1.663l.397.362a1.596 1.596 0 010 2.36l-.397.362c-.461.42-.635 1.07-.446 1.664l.163.512a1.596 1.596 0 01-1.18 2.043l-.525.115a1.596 1.596 0 00-1.218 1.218l-.115.525a1.596 1.596 0 01-2.043 1.18l-.512-.163a1.596 1.596 0 00-1.664.445l-.362.398a1.596 1.596 0 01-2.36 0l-.362-.398a1.596 1.596 0 00-1.663-.445l-.513.163a1.596 1.596 0 01-2.043-1.18l-.115-.525a1.596 1.596 0 00-1.218-1.218l-.525-.115a1.596 1.596 0 01-1.18-2.043l.164-.512a1.596 1.596 0 00-.446-1.664L.52 11.18a1.596 1.596 0 010-2.36l.398-.362c.46-.42.635-1.07.446-1.663L1.2 6.282a1.596 1.596 0 011.18-2.043l.525-.115a1.596 1.596 0 001.218-1.218l.115-.525A1.596 1.596 0 016.282 1.2l.513.163c.594.19 1.244.015 1.663-.445L8.821.52z" fill="currentColor"></path><path d="M6.66 7.464L5.012 9.111l3.85 3.85 5.483-5.481-1.966-1.966L8.544 9.35 6.66 7.464z" fill="#fff"></path><path opacity=".5" d="M11.25 15.55l-1.646-1.848 1.646-1.646 1.887 1.887-1.887 1.606z" fill="#fff"></path></svg></div></span></div></a><div class="flex flex-col space-y-0"><div class="flex rtl:space-x-reverse items-center space-x-1"><p class="truncate text-sm text-gray-700 dark:text-gray-600 font-normal tracking-normal font-sans normal-case [&amp;_span.invisible]:inline-block [&amp;_span.invisible]:w-0" style="direction: ltr;">@ilpresidento</p><span class="text-sm text-gray-700 dark:text-gray-600 font-normal tracking-normal font-sans normal-case [&amp;_span.invisible]:inline-block [&amp;_span.invisible]:w-0">路</span><a class="hover:underline" href="/@ilpresidento/posts/111504024283677615"><time title="Dec 01, 2023, 10:39 AM" class="text-sm text-gray-700 dark:text-gray-600 font-normal tracking-normal font-sans normal-case [&amp;_span.invisible]:inline-block [&amp;_span.invisible]:w-0 whitespace-nowrap">Dec 1, 2023</time></a></div></div></div></div><div></div></div></div><div class="status__content-wrapper"><div class="reply-mentions"><div class="inline-block max-w-full cursor-pointer"><span>Replying to</span></div> <a class="reply-mentions__account max-w-[200px] truncate align-bottom" href="/@realDonaldTrump">@realDonaldTrump</a></div><div class="flex flex-col relative z-0"><div class="flex flex-col space-y-4"><div class="relative"><p tabindex="0" lang="en" data-markup="true" class="text-base leading-5 text-gray-900 dark:text-gray-100 font-normal tracking-normal font-sans normal-case [&amp;_span.invisible]:inline-block [&amp;_span.invisible]:w-0 text-gray-900 dark:text-gray-100 break-words text-ellipsis overflow-hidden relative focus:outline-none cursor-pointer max-h-40" style="direction: ltr;"><p>ぃ ぃ ぃ</p></p></div></div></div><div class="pt-4"><div data-testid="status-action-bar" class="flex rtl:space-x-reverse"><div class="flex rtl:space-x-reverse items-center space-x-2"><button type="button" class="flex items-center rounded-full p-1 rtl:space-x-reverse focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:ring-offset-0 text-gray-600 hover:text-gray-600 dark:hover:text-white space-x-1" title="Reply to thread"><div class="relative flex shrink-0 flex-col" data-testid="icon"><svg width="24" height="24" viewBox="0 0 24 24" stroke="currentColor" stroke-linejoin="round" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 stroke-2" data-testid="svg-icon"><path d="M11.8184 4C16.2366 4 19.8184 7.58172 19.8184 12C19.8184 13.3762 19.4709 14.6711 18.8589 15.802L19.9998 20.5L15.8172 18.9304C14.6408 19.6107 13.275 20 11.8184 20C7.40008 20 3.81836 16.4183 3.81836 12C3.81836 7.58172 7.40008 4 11.8184 4Z"></path></svg></div><p class="text-xs text-inherit font-semibold tracking-normal font-sans normal-case [&amp;_span.invisible]:inline-block [&amp;_span.invisible]:w-0"><span>9</span></p></button><div class="relative flex"><button type="button" class="flex items-center rounded-full p-1 rtl:space-x-reverse focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:ring-offset-0 text-gray-600 hover:text-gray-600 dark:hover:text-white space-x-1" title="ReTruth"><div class="relative flex shrink-0 flex-col" data-testid="icon"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 stroke-2" data-testid="svg-icon"><path d="M17.2793 3L20.5444 6.26506L17.2793 9.53011"></path><path d="M4.87305 11.1622V9.52971C4.87305 8.66376 5.21704 7.83328 5.82936 7.22096C6.44168 6.60864 7.27216 6.26465 8.1381 6.26465H19.5658"></path><path d="M7.16154 21.1639L3.89648 17.8988L7.16154 14.6338"></path><path d="M19.5658 13V14.6325C19.5658 15.4985 19.2218 16.329 18.6095 16.9413C17.9972 17.5536 17.1667 17.8976 16.3007 17.8976H4.87305"></path></svg></div><p class="text-xs text-inherit font-semibold tracking-normal font-sans normal-case [&amp;_span.invisible]:inline-block [&amp;_span.invisible]:w-0"><span>87</span></p></button></div><button type="button" class="flex items-center rounded-full p-1 rtl:space-x-reverse focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:ring-offset-0 text-gray-600 hover:text-gray-600 dark:hover:text-white space-x-1" title="Like"><div class="relative flex shrink-0 flex-col" data-testid="icon"><svg width="24" height="24" viewBox="0 0 24 24" stroke-linecap="round" stroke-width="2" stroke-linejoin="round" stroke="currentColor" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 stroke-2" data-testid="svg-icon"><path d="M20.2328 6.4701L20.3952 6.76689C21.1597 8.35418 21.2151 10.1379 20.4969 12.0001C19.8211 13.7477 18.4642 15.4911 16.8514 16.9462C15.2519 18.3891 13.4816 19.4756 12.0396 19.9822C12.0257 19.9854 12.0153 19.9874 12.0078 19.9886C12.0025 19.9895 11.9992 19.9898 11.9978 19.99C11.9913 19.9899 11.986 19.9898 11.9818 19.9897C10.5425 19.492 8.76501 18.4026 7.15788 16.9505C5.54593 15.494 4.18855 13.7476 3.51269 11.9994L3.51157 11.9965C2.74033 10.0196 2.85032 8.13081 3.75666 6.47098C5.06362 4.09997 7.22019 3.72893 8.84915 4.14799C9.84987 4.40896 10.6764 4.94172 11.2355 5.60466L12 6.51106L12.7644 5.60466C13.3271 4.93741 14.1541 4.39928 15.1444 4.14962L15.1444 4.14963L15.1494 4.14835C16.7797 3.72842 18.9355 4.10012 20.2328 6.4701Z"></path></svg></div><p class="text-xs text-inherit font-semibold tracking-normal font-sans normal-case [&amp;_span.invisible]:inline-block [&amp;_span.invisible]:w-0"><span>498</span></p></button><button type="button" class="flex items-center rounded-full p-1 rtl:space-x-reverse focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:ring-offset-0 text-gray-600 hover:text-gray-600 dark:hover:text-white space-x-1" title="Bookmark"><div class="relative flex shrink-0 flex-col" data-testid="icon"><svg width="24" height="24" viewBox="0 0 14 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 stroke-2 !size-5" data-testid="svg-icon"><path d="M13 5V19L7 15L1 19V5C1 3.93913 1.42143 2.92172 2.17157 2.17157C2.92172 1.42143 3.93913 1 5 1H9C10.0609 1 11.0783 1.42143 11.8284 2.17157C12.5786 2.92172 13 3.93913 13 5Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></div></button><div class="relative flex"><button type="button" class="flex items-center rounded-full p-1 rtl:space-x-reverse focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:ring-offset-0 text-gray-600 hover:text-gray-600 dark:hover:text-white space-x-1" title="More"><div class="relative flex shrink-0 flex-col" data-testid="icon"><svg class="w-6 h-6 stroke-2" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-testid="svg-icon"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"></path><path d="M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"></path><path d="M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"></path></svg></div></button></div></div></div></div></div></div>"""


def test_post_parsing():
    p = Post(html_data=ORDINARY_POST)
    assert p.post_id == 113853838355066029
    assert p.owner == 'ilpresidento'
    assert p.is_repost == False
    assert p.likes == 1580
    assert p.replies == 105
    assert p.reposts == 286

    t_string = "Jan 19, 2025, 10:28 AM"
    assert p.timestamp == datetime.strptime(t_string, "%b %d, %Y, %I:%M %p")

def test_post_parsing_repost():
    p = Post(html_data=REPOST_POST)
    assert p.post_id == 113855307173969680
    assert p.owner == 'Deb37214'
    assert p.reply_to == 'realDonaldTrump'
    assert p.who_reposted == 'realDonaldTrump'
    assert p.is_repost == True
    assert p.likes == 6220
    assert p.replies == 125
    assert p.reposts == 981

    t_string = "Jan 19, 2025, 2:14 AM"
    assert p.timestamp == datetime.strptime(t_string, "%b %d, %Y, %I:%M %p")

def test_get_text():
    p = Post(html_data=ORDINARY_POST)
    assert p.text == "47"

    p = Post(html_data=REPOST_POST)
    assert p.text == "We are truly blessed Mr.President 火火吼"

    p = Post(html_data=MULTI_PARAGRAPHS_POST)
    assert p.text == "Doing some cool things now!\n:P"

def test_str():
    p = Post(html_data=ORDINARY_POST)
    print(p)
    assert str(p) == (
        "Post id: 113853838355066029\n"
        "\tOwner: ilpresidento\n"
        "\tTimestamp: 2025-01-19 10:28:00\n"
        "\tIs repost: False\n"
        "\tWho reposted: None\n"
        "\tReply to: None\n"
        "\tLikes: 1580\n"
        "\tReplies: 105\n"
        "\tReposts: 286\n"
        "\tText: 47"
    )

    p = Post(html_data=REPOST_POST)
    assert str(p) == (
        "Post id: 113855307173969680\n"
        "\tOwner: Deb37214\n"
        "\tTimestamp: 2025-01-19 02:14:00\n"
        "\tIs repost: True\n"
        "\tWho reposted: realDonaldTrump\n"
        "\tReply to: realDonaldTrump\n"
        "\tLikes: 6220\n"
        "\tReplies: 125\n"
        "\tReposts: 981\n"
        "\tText: We are truly blessed Mr.President 火火吼"
    )

    p = Post(html_data=MULTI_PARAGRAPHS_POST)
    assert str(p) == (
        "Post id: 113856066939503017\n"
        "\tOwner: examore\n"
        "\tTimestamp: 2025-01-19 19:55:00\n"
        "\tIs repost: False\n"
        "\tWho reposted: None\n"
        "\tReply to: None\n"
        "\tLikes: 0\n"
        "\tReplies: 0\n"
        "\tReposts: 0\n"
        "\tText: Doing some cool things now!\n:P"
    )

def test_reply_to():
    p = Post(html_data=REPLY_POST)
    assert p.reply_to == 'realDonaldTrump'